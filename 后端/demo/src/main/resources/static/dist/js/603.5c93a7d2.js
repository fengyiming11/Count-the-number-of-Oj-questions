"use strict";(self["webpackChunkmenu"]=self["webpackChunkmenu"]||[]).push([[603],{3603:function(t,e,s){s.r(e),s.d(e,{default:function(){return m}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login-wrap"},[e("el-form",{staticClass:"login-container"},[e("h1",{staticClass:"title"},[t._v("用户登录")]),e("el-form-item",{staticStyle:{left:"50%"},attrs:{label:"账号"}},[e("el-input",{attrs:{type:"text",placeholder:"登录账号",autocomplete:"off"},model:{value:t.uname,callback:function(e){t.uname=e},expression:"uname"}})],1),e("el-form-item",{attrs:{label:"密码"}},[e("el-input",{attrs:{type:"password",placeholder:"登录密码",autocomplete:"off"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),e("el-form-item",[e("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(e){return t.dosubmit()}}},[t._v("登录")])],1)],1)],1)},o=[],n=(s(7658),s(4311)),l={name:"Login",data:function(){return{uname:"",password:""}},methods:{dosubmit:function(){if(""===this.uname||""===this.password){const t=this.$createElement;this.$notify({title:"通知",message:t("i",{style:"color: teal"},"账号或密码不能为空")})}else{let t={uname:this.uname,password:this.password};(0,n.Z)({method:"post",url:"/api/login",data:t}).then((t=>{if(console.log(t.data),"ok"==t.data){let t=window.sessionStorage;t.setItem("token",this.uname),n.Z.get("/api/User/"+sessionStorage.getItem("token")).then((e=>{t.setItem("Realname",e.data.name)})),this.$router.push({path:"/home"})}else{const t=this.$createElement;this.$notify({title:"通知",message:t("i",{style:"color: teal"},"账号或密码错误")})}}))}}}},i=l,r=s(1001),u=(0,r.Z)(i,a,o,!1,null,"52b46d0f",null),m=u.exports}}]);
//# sourceMappingURL=603.5c93a7d2.js.map